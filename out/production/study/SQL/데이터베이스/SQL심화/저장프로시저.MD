 ## 24ë…„ 1ì›” 22ì¼ MYSQL(ê°ì²´) ì‹¬í™” ìˆ˜ì—… 
 
## í”„ë¡œì‹œì €  ì„ ì–¸ ë°©ì‹ 

<details>
<summary>ğŸí”„ë¡œì‹œì €  ğŸ    </summary>
<div markdown="1">


 
```SQL
-- delimiter : êµ¬ë¬¸ ì¢…ë£Œ ê¸°í˜¸ë¥¼ ì„¤ì • 
-- begein - end : í”„ë¡œê·¸ë¨ ë¬¸ì„ ë¸”ë¡ìœ¼ë¡œ ë¬¶ìŒ. {}, ì¤‘ì²¨ ê°€ëŠ¥ 
-- ì¡°ê±´ì˜ ê²€ì‚¬ ê²°ê³¼ì— ë”°ë¼ ë¬¸ì¥ì„ ì„ íƒì ìœ¼ë¡œ ìˆ˜í–‰ :  IF - ELSE 
-- LEAVE ë¬¸ì„ ë§Œë‚˜ê¸° ì „ê¹Œì§€ ë°˜ë³µ : LOOP ë¼ë²¨ì„ ì¤€ë‹¤ -> ë¼ë²¨ : LOOP SQLë¬¸ ( LEAVE )  END LOOP ;
-- WHILEë¬¸ : ì¡°ê±´ì´ ì°¸ì¼ ê²½ìš° WHILEë¬¸ì˜ ë¸”ë¡ì„ ìˆ˜í–‰ : WHILE (ì¡°ê±´) DO SQLë¬¸ END WHILE;
-- REPEAT : ì¡°ê±´ì´ ì°¸ì¼ ê²½ìš° REPEAT ì˜ ë¸”ëŸ­ì„ ìˆ˜í–‰  =>  REPEAT SQLë¬¸ ì„ ì–¸ ë°©ì‹ => UNTIL(ì¡°ê±´) END REPEAT;
-- RETURN : í”„ë¡œì‹œì €ë¥¼ ì¢…ë£Œí•¨, ìƒíƒœê°’ì„ ë°˜í™˜ RETURN[ì‹]  

-- ì˜ˆì‹œ ) 
drop procedure whileproc3;
delimiter $$
create procedure whileproc3()
begin 
		declare i INT;
        declare hap INT;
        set i = 1;
        set hap = 0;
        
        mywhile : while(i<=1000) do 
			if(i%3=0) then 
				set hap = i + hap;
				set i = i+1;
				iterate mywhile;
			end if;
			if(i%8=0) then 
				set hap = i + hap;
				set i = i +1;
				iterate mywhile;
			end if;
			set i =i+1;
        end while;
        select hap;
        
end $$
delimiter ;
call whileproc3();

-- -- ì˜¤ë¥˜ì²˜ë¦¬ DECLARE action handler for ì˜¤ë¥˜ì¡°ê±´ ì²˜ë¦¬í•  ë¬¸ì¥;

-- action : ì˜¤ë¥˜ ë°œìƒ ì‹œ í–‰ë™ì„ ì •ì˜. continue, exit ë‘˜ ì¤‘ í•˜ë‚˜ ì„ íƒ. continue ì„ íƒì‹œ ì œì¼ ë’¤ì˜ 'ì²˜ë¦¬í•  ë¬¸ì¥'ì´ ì²˜ë¦¬ëœë‹¤. 
-- ì˜¤ë¥˜ì¡°ê±´ : ì–´ë–¤ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•  ê²ƒì¸ì§€ ì§€ì •. SQLEXCEPTION, SQLWARNING, NOT FOUND
-- ì²˜ë¦¬í•  ë¬¸ì¥ : í•œ ë¬¸ì¥, ì²˜ë¦¬í•  ë¬¸ì¥ì´ ì—¬ëŸ¬ê°œì¼ ê²½ìš° BEGIN ë¬¸ì¥ë“¤ END


-- 1. ì—†ëŠ” í…Œì´ë¸”ì„ ì°¾ì„ ê²½ìš°ì˜ ì—ëŸ¬ë¥¼ ëŒ€ë¹„í•˜ëŠ” ì—ëŸ¬ì²˜ë¦¬ 
DROP procedure IF exists errorprc; 
delimiter $$
create procedure errorprc()
begin
	declare continue handler for 1146 select 'í…Œì´ë¸”ì´ ì—†ì–´ìš©!!!! >.<' as 'message'; -- notable ì´ë¼ëŠ” í…Œì´ë¸”ì„ ì•ˆë§Œë“¤ì—ˆê¸°ë•Œë¬¸ì— 
    select * from notable;
    
    end $$ 
    delimiter ;
    call errorprc(); -- í”„ë¡œì‹œì € ë¶€ë¥´ê¸° 

-- ì´ë ‡ê²Œ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ 

-- 2. ë²ˆì¨° ì˜¤ë¥˜ ì²˜ë¦¬
DROP PROCEDURE IF EXISTS errorprc2;
delimiter $$
CREATE PROCEDURE errorprc2()
BEGIN
	SHOW ERRORS;
    SELECT 'ê°™ì€ ì´ë¦„ì´ ìˆì–´ ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.' as 'message';
	ROLLBACK;
 END ;
 INSERT INTO usertbl VALUES ('sym1','ì‹ ì„¸ê³„',1990,'ì„œìš¸', null , null , 178 , current_date());
END $$
 delimiter ;
 call errorprc2();

```

</div>
</details> 

---

## SQLì—ì„œì˜ ì»¤ì„œ 



<details>
<summary>ğŸì»¤ì„œ  ğŸ    </summary>
<div markdown="1">

![img](ì»¤ì„œ.png)

SQLì—ì„œ ì»¤ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê²°ê³¼ ì§‘í•©ì„ ì¡°ì‘í•˜ê³  ê²€ìƒ‰í•˜ê¸° ìœ„í•œ ê°œë…ì…ë‹ˆë‹¤. ì£¼ë¡œ ì €ì¥ í”„ë¡œì‹œì €ë‚˜ íŠ¸ë¦¬ê±°ì™€ ê°™ì€ ë°ì´í„°ë² ì´ìŠ¤ ê°ì²´ì—ì„œ ì‚¬ìš©ë˜ë©°, ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ í•œ í–‰ì”© ì²˜ë¦¬í•˜ëŠ” ë°ì— í™œìš©ë©ë‹ˆë‹¤. ì£¼ë¡œ PL/SQL, T-SQL ë“±ì˜ í”„ë¡œì‹œì € ì–¸ì–´ì—ì„œ ì»¤ì„œê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.

ê°„ë‹¨í•˜ê²Œ ë§í•˜ë©´, ì»¤ì„œëŠ” ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ê°€ë¦¬í‚¤ëŠ” ê°€ìƒì˜ í¬ì¸í„°ë¡œ ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • í…Œì´ë¸”ì´ë‚˜ ì¿¼ë¦¬ ê²°ê³¼ ì§‘í•©ì„ ë°˜ë³µí•˜ë©´ì„œ ê°œë³„ í–‰ì„ ê°€ì ¸ì™€ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì»¤ì„œëŠ” ì£¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ë‘ ìœ í˜•ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. **ì•”ë¬µì (ë¬µì‹œì ) ì»¤ì„œ(implicit cursor):** ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸í•˜ì§€ ì•Šê³ ë„ SQL ë¬¸ì¥ì„ ì‹¤í–‰í•  ë•Œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ì»¤ì„œì…ë‹ˆë‹¤. ì£¼ë¡œ ë‹¨ì¼ í–‰ ì¿¼ë¦¬ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

   ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒì€ ì•”ë¬µì  ì»¤ì„œë¥¼ ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ SQL ë¬¸ì¥ì…ë‹ˆë‹¤:

   ```sql
   SELECT column1, column2 FROM table1 WHERE condition;
   ```

   ì´ ì¿¼ë¦¬ëŠ” ì•”ë¬µì ìœ¼ë¡œ ì»¤ì„œë¥¼ ìƒì„±í•˜ê³ , ê²°ê³¼ ì§‘í•©ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

2. **ëª…ì‹œì  ì»¤ì„œ(explicit cursor):** ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸í•˜ê³  ì œì–´í•˜ëŠ” ì»¤ì„œë¡œ, ë³µì¡í•œ ì¿¼ë¦¬ë‚˜ ë‹¤ì¤‘ í–‰ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

   ì˜ˆë¥¼ ë“¤ì–´, PL/SQLì—ì„œ ëª…ì‹œì  ì»¤ì„œë¥¼ ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

   ```sql
   DECLARE
       cursor_name CURSOR FOR
           SELECT column1, column2 FROM table1 WHERE condition;
   BEGIN
       OPEN cursor_name;
       FETCH cursor_name INTO variable1, variable2;
       -- ì²˜ë¦¬ ë¡œì§
       CLOSE cursor_name;
   END;
   ```

   ì´ ì½”ë“œì—ì„œ `DECLARE` ë¶€ë¶„ì—ì„œ ëª…ì‹œì ìœ¼ë¡œ ì»¤ì„œë¥¼ ì„ ì–¸í•˜ê³ , `OPEN`, `FETCH`, `CLOSE` ë“±ì˜ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì»¤ì„œë¥¼ ì—´ê³  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë©° ë§ˆì§€ë§‰ì—ëŠ” ì»¤ì„œë¥¼ ë‹«ìŠµë‹ˆë‹¤.

ì»¤ì„œë¥¼ ì‚¬ìš©í•˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ ê²°ê³¼ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì¡°ì‘í•˜ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



```sql
-- ì‹¤ìŠµ 4. ì»¤ì„œë¥¼ ì‚¬ìš©í•˜ì—¬ ORDERSí…Œì´ë¸”ì˜ íŒë§¤ë„ì„œì— ëŒ€í•œ ì´ìµê¸ˆì„ ê³„ì‚°í•˜ëŠ” í”„ë¡œì‹œì € : interest.sql
-- ì¡°ê±´ : ë„ì„œ ê°€ê²©ì´ 30,000ì› ì´ìƒì´ë©´ ì´ìµì´ 10%ì´ê³ , 30,000ë¯¸ë§Œì´ë©´ 5%
drop procedure interest;
delimiter // 
create procedure interest()
begin
/*-- 
1. ë³€ìˆ˜ ì„ ì–¸
2. ì»¤ì„œ ìƒì„±
3. ì»¤ì„œ ì˜¤í”ˆ 
4. ì»¤ì„œ Looping í•˜ë©´ì„œ Fetch  
5. Loop ì¢…ë£Œ 
6. ì»¤ì„œ ì¢…ë£Œ 
*/
-- 1. ë²ˆìˆ˜ ì„ ì–¸ 
declare myinterest integer default 0.0;
declare price integer;
declare endofrow boolean default false;

-- 2. ì»¤ì„œ ìƒì„± 
declare InterestC cursor for select saleprice from orders; -- ì˜¤ë”ìŠ¤ í…Œì´ë¸”ì„ ëŒ€ìƒìœ¼ë¡œ ì»¤ì„œë¥¼ ìƒì„±í–ˆë‹¤. ì´ ì»¤ì„œëŠ” ì˜¤ë”ìŠ¤ í…Œì´ë¸”ì— saleprice(column)  ê°€ë¦¬í‚¤ê³  ìˆë‹¤.
declare continue handler for not found set endofrow = true; -- ì»¤ì„œ ë°‘ì—ìˆì–´ì•¼ í•œë‹¤. 
-- 3. ì»¤ì„œ ì˜¤í”ˆ 
open  InterestC;

-- 4. ì»¤ì„œ Looping í•˜ë©´ì„œ Fetch  
cursor_loop : loop 
	fetch InterestC into price;
    if endofrow then leave cursor_loop;
    end if;
    if price>=30000 then set myinterest = myinterest + price * 0.1;
	else
    set myinterest = myinterest + price * 0.05;
    end if;
end loop cursor_loop; -- 5. Loopì¢…ë£Œ 
close InterestC; -- 6. ì»¤ì„œ ì¢…ë£Œ 
select concat('ì „ì²´ ì´ìµê¸ˆì•¡ =', myinterest);
end;
//
delimiter ;
call interest();
select sum(saleprice) 
from orders;
```
</div>
</details> 

---
# SQL íŠ¸ë¦¬ê±° 


<details>
<summary>ğŸíŠ¸ë¦¬ê±° ì„ ì–¸ë°©ì‹ ë° ì‹¤ìŠµì½”ë“œ ğŸ    </summary>
<div markdown="1">

## ì„ ì–¸ ë°©ì‹
```SQL
-- ì•ì— ì´ ì„ ì–¸ë¬¸ì„ ê¼­ ì„ ì–¸í•´ì¤˜ì•¼í•œë‹¤ 
SET GLOBAL log_bin_trust_function_creators=on;


delimiter // 
create trigger afterinsertbook after insert on book for each row -- ì´ ROWëŠ” ë³€ê²½ë˜ëŠ” íˆ¬í”Œì„ ë§í•˜ëŠ”ê²ƒì´ë‹¤. 
begin
declare average integer;
insert into book_log value(new.bookid, new.bookname, new.publisher,new.price);

end;
// delimiter ;

```

```sql
create table book_log(
bookid_log integer,
bookname_log varchar(40),
publisher_log varchar(40),
price_log integer);
select * from book_log;

-- afterinsertbook íŠ¸ë¦¬ê±° ìƒì„±í•˜ê¸° 

delimiter // 
create trigger afterinsertbook after insert on book for each row 
begin
declare average integer;
insert into book_log value(new.bookid, new.bookname, new.publisher,new.price);

end;
// delimiter ;
insert into book values(20,'ì•„ì‹œì•ˆì»´ ì¶•êµ¬ ìš°ìŠ¹','ëŒ€í•œì¶•êµ¬í˜‘íšŒ',29000);
delete from book where bookid = 20;
select * 
from book
where bookid = 20;
select * from book_log;
select * from book;
```

</div>
</details> 


---
# function(ì‚¬ìš©ì ì§€ì •ë‚´ì¥í•¨ìˆ˜)

<details>
<summary>ğŸì‹¤ìŠµì½”ë“œ ë° ì´ë¡   ğŸ    </summary>
<div markdown="1">

![img](./ì‚¬ìš©ìì§€ì •ë‚´ì¥í•¨ìˆ˜.png)
![img](ë‚´ì¥í•¨ìˆ˜,í”„ë¡œì‹œì €ì°¨ì´.png)
![img](ë‚´ì¥í•¨ìˆ˜,í”„ë¡œì‹œì €ì°¨ì´2.png)
![img](ë‚´ì¥í•¨ìˆ˜,í”„ë¡œì‹œì €ì°¨ì´3.png)

```sql
/*
í”„ë¡œì‹œì €ëŠ” CALL ëª…ë ¹ì— ì˜í•´ ì‹¤í–‰ë˜ëŠ” ë…ë¦½ì ì¸ í”„ë¡œê·¸ë¨ 
ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ : SELECT ë¬¸ì´ë‚˜ í”„ë¡œì‹œì € ë‚´ì—ì„œ í˜¸ì¶œë˜ì–´ SQLë¬¸ì´ë‚˜ í”„ë¡œì‹œì €ì— ê°’ì„ ì œê³µí•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš© 
- ìŠ¤ì¹¼ë¼ í•¨ìˆ˜ : built - in í•¨ìˆ˜ (ë‹¨ì¼ ê°’ì„ ëŒë ¤ì£¼ëŠ” í•¨ìˆ˜ ) => sum, max ì´ë‚˜ ì´ëŸ° í•¨ìˆ˜ë¥¼ ë§í•œë‹¤. 
*/
-- 1. íŒë§¤ëœ ë„ì„œì˜ ì´ìµì„ ê³„ì‚°ì„ ìœ„í•´ì„œ, ê° ì£¼ë¬¸ ê±´ë³„ë¡œ ì‹¤ì œ íŒë§¤ê°€ê²©ì´ salepriceë¥¼ ì…ë ¥ë°›ì•„ ê°€ê²©ì— ë§ëŠ” ì´ìµ 
-- (30000ì´ìƒ ë„ì„œëŠ” 10% ë¯¸ë§Œì€ 5%) ê³„ì‚°í•˜ì—¬ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ -- return íƒ€ì…ì´ @@ ìˆì–´ì•¼ í•œë‹¤ 
-- functionì„ ë§Œë“¤ë•Œ 1418ì—ëŸ¬ê°€ ëœ¬ë‹¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ëœë‹¤. 
set global log_bin_trust_function_creators = on;

delimiter // 
create function fn_interest(price integer) returns integer
begin
	declare myinterest integer;
    if price >=3000 then set myinterest = price * 0.1;
    else set myinterest = price * 0.05;
    end if;
return myinterest;
end 
// delimiter ;
select custid,orderid,saleprice,fn_interest(saleprice) "í‰ê· ê°’" from orders;
```
</div>
</details> 


---



<details>
<summary>ğŸë°ì´í„° íƒ€ì…  ğŸ    </summary>
<div markdown="1">

MySQL ë°ì´í„° íƒ€ì…ì— ëŒ€í•´ì„œë¦¬ë·°í•˜ëŠ” ì‹œê°„ì„ ê°€ì¡ŒìŒ
## ì•„ë˜ ë°ì´í„° íƒ€ì…ì€ ì™¸ìš°ëŠ”ê²ƒì´ ì¢‹ë‹¤ .
- MySQL ë°ì´í„° í˜•ì‹

1) ìˆ«ì
- SMALLINT (2byte)
- INT (4byte)
- BIGINT (8byte)
- FIOAT (4byte) - ì†Œìˆ˜ì  ì•„ë˜ 7ìë¦¬ê¹Œì§€ í‘œí˜„
- DOUBLE (8byte) - ì†Œìˆ˜ì  ì•„ë˜ 15ìë¦¬ê¹Œì§€ í‘œí˜„
- DECIMAL(m,d) = m: ì „ì²´ìë¦¿ìˆ˜ d: ì†Œìˆ«ì ì´í•˜ ìë¦¿ìˆ˜
2) ë¬¸ì
- CHAR(n), CHAR(1) CHARACTER : ê³ ì •ê¸¸ì´
- VARCHAR(1~65535) : ê°€ë³€ê¸¸ì´
#### TEXT í˜•ì‹
- TINYTEXT (1~255byte) () -> ì €ì¥ ê°€ëŠ¥í•œ ë°ì´í„° ê°’
- TEXT (1~ 65535byte)
- LONGTEXT :4Gê¹Œì§€ ê°€ëŠ¥
- BLOBí˜•ì‹("Binary Large Object"ì˜ ì•½ì) - ì‚¬ì§„, ë™ì˜ìƒ, ë° ëŒ€ìš©ëŸ‰ ê¸€ìë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ë°ì´í„° íƒ€ì…
- ENUM() ì—´ê±°í˜• ë°ì´í„° ê°’
- SET
3) ë‚ ì§œ / ì‹œê°„
4)
| í‚¤ì›Œë“œ      | ë°ì´í„° ì €ì¥ê°’  | ì €ì¥í˜•ì‹         |
   |----------|----------|--------------|
| DATE     | 3byte    | YYYY-MM-DDí˜•ì‹ |
| DATETIME | 8byte    | YYYY-MM-DD HH:MM:SS |

4) ì§€ë„/JSON ë°ì´í„°í˜•ì‹
   GEOMETRY :
- ê³µê°„ë°ì´í„° í˜•ì‹ìœ¼ë¡œ ì„ ,ì , ë‹¤ê°í˜•ê°™ì€ ê³µê°„ê°œì²´ë¥¼ ì €ì¥,ì¡°ì‘

## JSON(JavaScript Object Notation)
- ì„ ì–¸ë°©ì‹

- **ex) {id: 'jack', name = 'jack Kim', age : 20}**


</div>
</details> 


<details>
<summary>ğŸSQLë³€ìˆ˜ ì‚¬ìš©í•´ì„œ í…Œì´ë¸”ì— ë„£ê¸°  ğŸ    </summary>
<div markdown="1">

SQL ë³€ìˆ˜ ì‚¬ìš© 
@ 
```sql
use sqldb;
set @myvar1 ="ë°±ì •í›ˆì€ í”¼ê³¤í•˜ë‹¤";
set @myvar2 =3;
set @myvar3 =4.2;
set @myvar4 ="ê°€ìˆ˜ì´ë¦„-->";

select @myvar1;
select @mrvar4, name from usertbl where height>180;

set @myvar1 = 5;
prepare myQuery
from 'select name, height from usertbl order by height limit ?';
execute myQuery using @myvar1; 

```
</div>
</details> 

<details>
<summary>ğŸì œì–´íë¦„ í•¨ìˆ˜   ğŸ    </summary>
<div markdown="1">

```SQL
-- 1. ì œì–´ íë¦„ í•¨ìˆ˜(ìˆ˜ì‹í•¨ìˆ˜) : í”„ë¡œê·¸ë¨ì˜ íë¦„ì œì–´ 
1-1 .IF(ìˆ˜ì‹, ì°¸, ê±°ì§“) 
SELECT IF(100>200,'ì°¸','ê±°ì§“');

-- IFNULL (ìˆ˜ì‹1, ìˆ˜ì‹2) -> 
ìˆ˜ì‹1ì´ NULLì´ ì•„ë‹ˆë©´ ìˆ˜ì‹1ì´ ë°˜í™˜, 
ìˆ˜ì‹1ì´ NULLì´ë©´ ìˆ˜ì‹2ê°€ ë°˜í™˜

select ifnull(null,'nullì´êµ¬ë‚˜!'),innull(100,'nullì´ ì•„ë‹ˆë„¤');

-- NULLIF (ìˆ˜ì‹1, ìˆ˜ì‹2) : ìˆ˜ì‹1ê³¼ ìˆ˜ì‹2ê°€ ê°™ìœ¼ë©´ NULL ë°˜í™˜í•œë‹¤. ë‹¤ë¥´ë©´ ìˆ˜ì‹1 ë°˜í™˜ alter
   select nullif(100,100), nullif(200,100);



--2. CASE ~ WHEN ~ ELSE ~ END  : CASE ì—°ì‚°ì ë‹¤ì¤‘ë¶„ê¸°ì—ì„œ ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©ëœë‹¤.
SELECT CASE 10 
         WHEN 1 THEN 'ì¼'
         WHEN 5 THEN 'ì˜¤'
         WHEN 10 THEN 'ì‹­'
         ELSE 'ì—ë¼ ëª¨ë¥´ê² ë‹¤.'
         END AS 'CASE ì—°ìŠµ';  
         

-- ë¬¸ìì—´ ASCII(ì•„ìŠ¤í‚¤ì½”ë“œ), CHAR(ìˆ«ì) 
SELECT ASCII('A'), CHAR(65);   

-- BIT_LENGHTH(ë¬¸ìì—´), CHAR_LENGTH(ë¬¸ìì—´),LENGTH(ë¬¸ìì—´)  
-- MYSQL ì€ UTF-8 ì½”ë“œ ì´ë¯€ë¡œ ì˜ë¬¸ì 1= 1BYTE í•œê¸€,í•œë¬¸ 1= 3BYTE
SELECT BIT_LENGTH('ABC'),CHAR_LENGTH('ABC'),LENGTH('ABC');
SELECT BIT_LENGTH('ê°€ë‚˜ë‹¤'),CHAR_LENGTH('ê°€ë‚˜ë‹¤'),LENGTH('ê°€ë‚˜ë‹¤');

-- CONCAT(ë¬¸ìì—´1, ë¬¸ìì—´2,.... ), CON_CAT_WS(êµ¬ë¶„ì,ë¬¸ìì—´1, ë¬¸ìì—´2)
 -- ê°ì›ì ì‚¬ì´ì— ì›í•˜ëŠ” ì›ìë¥¼ ë„£ëŠ”ë‹¤ (ì›ìì™€ ì›ì ì‚¬ì´ì— ì›ìë¥¼ í•©ì¹œë‹¤)
SELECT CONCAT_WS('=', '2024','02','21');

-- ELT(ìœ„ì¹˜, ë¬¸ìì—´1, ë¬¸ìì—´2,...)  -- ìœ„ì¹˜ì—ìˆëŠ” ì›ìê°’ì„ ì¶œë ¥í•œë‹¤. 
SELECT ELT(2,'í•˜ë‚˜','ë‘˜','ì…‹');

-- FIELD('ì°¾ì„ ë¬¸ìì—´', ë¬¸ìì—´1, ë¬¸ìì—´2) -- ì¸ë±ìŠ¤ ë¦¬í„´ í•´ì¤Œ 
SELECT FIELD('ë‘˜','í•˜ë‚˜','ì…‹','ë‘˜');

-- FIND_IN_SET( ì°¾ì„ ë¬¸ìì—´ , ë¬¸ìì—´ ë¦¬ìŠ¤íŠ¸) 
SELECT find_in_set('ë‘˜','ë‘˜');

-- INSTR('í•˜ë‚˜ë‘˜ì…‹','ë‘˜'); -- ì‹œì‘ë˜ëŠ” ìœ„ì¹˜ ì¶œë ¥
SELECT INSTR('í•˜ë‚˜ë‘˜ì…‹','ë‘˜');
-- LOCATE('ë‘˜','í•˜ë‚˜ë‘˜ì…‹'); 
 SELECT LOCATE('ë‘˜','í•˜ë‚˜ë‘˜ì…‹');
 
 -- FORMAT(ìˆ«ì, ì†Œìˆ˜ì  ìë¦¿ìˆ˜) 
 SELECT FORMAT(12345.1234567,4); -- ì†Œìˆ˜ì ì•„ë˜ 4ìë¦¬ìˆ˜ê¹Œì§€ ì¶œë ¥ 
 
 -- BIN(ìˆ«ì), HEX(ìˆ«ì), OCT(ìˆ«ì), 2ì§„ìˆ˜, 16ì§„ìˆ˜, 8ì§„ìˆ˜ 
 SELECT BIN(30), HEX(30), OCT(30);
 
 -- INSERT()
 SELECT INSERT('ABCDEFGHI',3,4,'!!!!'); -- 3ì€ ìŠ¤íƒ€íŠ¸ ìœ„ì¹˜, 4ëŠ”ì§€ìš¸ ë¬¸ì í¬ê¸°,!!!!ëŠ” ë„£ì„ ë¬¸ì 
 SELECT INSERT('ABCDEFGHI',3,2,'!!!!'); 
 SELECT INSERT('ABCDEFGHI',3,1,'!!!!'); 
 SELECT INSERT('ABCDEFGHI',3,0,'!!!!');
 
 -- LEFT(), RIGHT() : ì™¼ìª½, ì˜¤ë¥¸ìª½ ë¬¸ìì—´ì˜ ê¸¸ì´ë§Œí¼ ë°˜í™˜ 
SELECT LEFT('ABCDEFGHI',8), RIGHT('ABCDEFGHI',8);
SELECT LEFT('ABCDEFGHI',3), RIGHT('ABCDEFGHI',3);
SELECT LEFT('ABCDEFGHI',2), RIGHT('ABCDEFGHI',2);
SELECT LEFT('ABCDEFGHI',1), RIGHT('ABCDEFGHI',1);

-- UPPER(ë¬¸ìì—´), LOWER(ë¬¸ìì—´), ëŒ€ì†Œë¬¸ì ë³€í™˜í•¨ìˆ˜ 
-- LPAD, RPAD 
SELECT lpad('ìë°” ë°±ì—”ë“œ ê°œë°œì',5,'##'); 
SELECT LPAD('ìë°” ë°±ì—”ë“œ ê°œë°œì',6, '##'); 
SELECT LPAD('ìë°” ë°±ì—”ë“œ ê°œë°œì',10, '##'); 
SELECT LPAD('ìë°” ë°±ì—”ë“œ ê°œë°œì',8, '##'); 
SELECT LPAD('ìë°” ë°±ì—”ë“œ ê°œë°œì',12, '##'); 
SELECT RPAD('ìë°” ë°±ì—”ë“œ ê°œë°œì',12, '##');


-- LTRIM, RTRIM, TRIM() : ê³µë°±ì œê±°  BOTH : ì–‘ìª½  LEADING : ì• TRALLING :  
SELECT LENGTH(RTRIM('     SQL í”„ë¡œê·¸ë˜ë°')), rtrim('SQLí”„ë¡œê·¸ë˜ë°   ');
SELECT TRIM( "   ì•ˆ  ë…•   " ), TRIM(BOTH '^' FROM '^^ ì¬ë¯¸ìˆë„¤ìš”.^^'); -- ^ ë‹¤ ì‚­ì œë¨ 

-- REPEAT (ë¬¸ìì—´, íšŸìˆ˜ë°˜ë³µ)
SELECT REPEAT('SQL',10);
-- SQLSQLSQLSQLSQLSQLSQLSQLSQLSQL

-- REPLACE(ë¬¸ìì—´,ì›ë˜ ë¬¸ìì—´, ë°”ê¿€ ë¬¸ìì—´);
SELECT replace('MYSQL ë¬¸ë²• ë°°ìš°ê¸°','ë¬¸ë²•','ì €ì¥ í”„ë¡œê·¸ë¨');
-- ì´ëŸ¬ë©´ ì¶œë ¥ì´ MYSQL ì €ì¥ í”„ë¡œê·¸ë¨ ë°°ìš°ê¸°ë¼ê³  ì¶œë ¥ì´ ëœë‹¤.

          
```
</div>
</details> 





## SQLì— ì˜ìƒê³¼ ìŠ¤í¬ë¦½íŠ¸ìë£Œë¥¼ ë„£ê³  í•˜ëŠ” ì‹¤ìŠµ 

<details>
<summary>â›ºï¸ ì‹¤ìŠµ ì½”ë“œ â›ºï¸    </summary>
<div markdown="1">


```SQL
create database moviedb;

use moviedb;

create table movietbl(
m_id int,
m_titile varchar(30),
m_director varchar(20),
m_star varchar(20),
m_script longtext,
m_film longblob)
default charset =utf8mb4;

select * 
from movietbl;

insert into movietbl values(1,'ì‰°ë“¤ëŸ¬ë¦¬ìŠ¤íŠ¸','ìŠ¤í‹°ë¸ ìŠ¤í•„ë²„ê·¸','ë¦¬ì•” ë‹ˆìŠ¨',
load_file('c:/datasource/movies/Schindler.TXT'),
load_file('C:/datasource/movies/Schindler.mp4'));
-- ì´ë ‡ê²Œ í•˜ë©´ ìŠ¤í¬ë¦½íŠ¸ì™€ ì˜í™”ê°€ ë¡œë“œê°€ì•ˆë˜ê³  ë„ê°’ë¡œ ë“¤ì–´ê°€ ìˆë‹¤. 
-- íŒŒì›Œì‰˜ë¡œ ê²½ë¡œì™€ ìš©ëŸ‰ì„ ë°”ê¿”ì¤˜ì•¼í•œë‹¤. 
-- 1. ìµœëŒ€ íŒ¨í‚· í¬ê¸° í™•ì¸í•  í•„ìš”ê°€ ìˆë‹¤. (=ìµœëŒ€ íŒŒì¼ í¬ê¸°) ì‹œìŠ¤í…œ ë³€ìˆ˜ max_allowed_pack ê°’ ì¡°íšŒ 
show variables like 'max_allowed_packet';  -- ê¸°ë³¸ ê°’ 4Më¡œ ì„¤ì •ì´ ë˜ì–´ìˆë‹¤.

-- 2. ì‹œìŠ¤í…œ ë³€ìˆ˜ì— secure_ file priv 
show variables like 'secure_file_priv';

insert into movietbl values(1,'ì‰°ë“¤ëŸ¬ë¦¬ìŠ¤íŠ¸','ìŠ¤í‹°ë¸ ìŠ¤í•„ë²„ê·¸','ë¦¬ì•” ë‹ˆìŠ¨',
load_file('c:/datasource/movies/Schindler.TXT'),
load_file('C:/datasource/movies/Schindler.mp4'));

insert into movietbl values(2,'ì‡¼ìƒí¬íƒˆì¶œ','í”„ë­í¬ë‹¤ë¼ë³¸íŠ¸','íŒ€ ë¡œë¹ˆìŠ¨',
load_file('c:/datasource/movies/Shawshank.txt'),
load_file('c:/datasource/movies/Shawshank.mp4'));

insert into movietbl values(3,'ë¼ìŠ¤íŠ¸ ëª¨íˆì¹¸','ë§ˆì´í´ ë§Œ','ë‹¤ë‹ˆì—˜ ë°ì´ ë£¨ì´ìŠ¤ ',
load_file('c:/datasource/movies/mohican.txt'),
load_file('c:/datasource/movies/mohican.mp4'));


select * from movietbl; 
commit;
```

![IMG](ì‹¤ìŠµíŒŒì¼.png)

- ì´ë ‡ê²Œ ì¶œë ¥ë¬¸ì´ ëœ¬ë‹¤. 
</div>
</details> 


